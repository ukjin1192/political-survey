{% extends "base.html" %}

{% load staticfiles %}
{% load compress %}
{% load custom_filter %}

{% block header %}
<div class="container" id="result-navbar">
	<div class="btn-group btn-group-justified" id="result-category" role="group">
		<div class="btn-group" role="group">
			<button type="button" class="btn btn-lg btn-default" id="move-to-1d-result-page-btn" data-loading-text="잠시만 기다려주세요">1차원 비교 분석</button>
		</div>
		<div class="btn-group" role="group">
			<button type="button" class="btn btn-lg btn-default" id="move-to-2d-result-page-btn" data-loading-text="잠시만 기다려주세요">2차원 비교 분석</button>
		</div>
	</div>
</div>
{% endblock %}

{% block container %}
<input type="hidden" id="survey-id" value="" />

<div class="text-center" id="result-detail-page">

	<div class="panel panel-default hidden" id="result-1d-summary">
		<div class="panel-body">
			<p>당신과 가장 어울리는 정당은,</p>
			<h1><span class="label most-similar-target"></span></h1>
		</div>
	</div>

	<div class="row hidden" id="result-2d-summary">
		<div class="col-xs-6 col-sm-6 col-md-6 col-lg-6">
			<div class="alert alert-info" role="alert">
				<strong><span class="glyphicon glyphicon-thumbs-up" aria-hidden="true"></span> 최고의 궁합</strong>
				<h2 class="most-similar-target"></h2>
			</div>
		</div>
		<div class="col-xs-6 col-sm-6 col-md-6 col-lg-6">
			<div class="alert alert-danger" role="alert">
				<strong><span class="glyphicon glyphicon-thumbs-down" aria-hidden="true"></span> 최악의 궁합</strong>
				<h2 class="most-dissimilar-target"></h2>
			</div>
		</div>
	</div>

	<div id="chart-container">
		<div class="hidden" id="result-1d-chart"></div>
		<div class="hidden" id="result-2d-chart"></div>
	</div>

	{# svg to canvas & canvas to png #}
	<canvas class="hidden" id="result-2d-chart__canvas"></canvas>
	<img src="" class="hidden" id="result-2d-chart__img" />

	<div id="record-additional-info"></div>

	<button class="btn btn-default btn-block" id="report-card-toggle-btn" type="button" data-toggle="collapse" data-target="#report-card" aria-expanded="false" aria-controls="report-card">
		<span class="glyphicon glyphicon-chevron-down" aria-hidden="true"></span>
		<strong>문항별로 정당과 나의 입장 차이 확인하기</strong>
	</button>

	<div class="collapse" id="report-card">
		<div class="panel-group" id="report-card-accordion" role="tablist" aria-multiselectable="true">
			<div class="alert alert-info" id="report-card-alert-message" role="alert">
				각 문항을 클릭해서 확인할 수 있습니다
			</div>
		</div>
	</div>	

	<div class="hidden" id="share-btn-group">
		{% include 'social_media_share_group.html' %}
		
		<h6>공유하면 이 결과를 누구나 볼 수 있습니다.</h6>
		<h6>언제든 비공개로 전환할 수 있습니다.</h6>
	</div>

	<a href="/" class="btn btn-default btn-lg btn-block" id="move-to-main-page-btn"></a>
	
	<button class="btn btn-primary btn-lg btn-block hidden" id="update-public-field-btn" data-loading-text="업데이트 중입니다">
		결과를 비공개 상태로 변경하기
	</button>
	
	<div class="alert alert-info hidden" id="update-public-field-alert-message" role="alert">
		결과를 비공개 상태로 변경했습니다
	</div>
	
	<div class="alert alert-danger hidden" id="forbidden-alert-message" role="alert">
		존재하지 않거나 비공개 상태입니다
	</div>
</div>

<div class="panel panel-default" id="report-card-row-virtual-dom">
	<div class="panel-heading" role="tab" data-toggle="collapse" data-parent="#report-card-accordion" href=""></div>
  <div class="panel-collapse collapse" id="" role="tabpanel" data-question-id="">
		<div class="panel-body"></div>
	</div>
</div>
{% endblock %}

{% block custom_js %}
{% comment %}
{% compress js %}
<script type="text/javascript" src="{% static 'dist/result.js' %}"></script>
{% endcompress %}
{% endcomment %}
{% endblock %}
