{% extends "base.html" %}

{% load custom_filter %}

{% block container %}
<input type="hidden" id="min-duration-in-seconds" value="{{ 'MIN_DURATION_IN_SECONDS'|get_settings_variable }}" />

<div class="hidden" id="page-scroll-container">

	<div class="section">
		<div class="slot-machine">
			<div class="slot-machine__items_container" id="wordbox"></div>
		</div>	
		
		<h2>나랑 어울리는 정당은?</h2>
		<h5 class="help-block">예상 소요시간 : 1분</h5>
		
		<div class="space"></div>
		
		{% with captcha='USE_CAPTCHA'|get_settings_variable %}
		<input type="hidden" id="use-captcha" value="{{ captcha }}" />
		
		<form class="form-group short-width-group" id="create-user-form">
			{% if captcha %} 
			<input type="hidden" id="captcha-key" value="" />
			<div class="input-group">
				<span class="input-group-addon" id="captcha-image-container">
					<img src="" id="captcha-image" />
				</span>
				<span class="input-group-addon cursor-pointer" id="refresh-captcha">
					<span class="glyphicon glyphicon-refresh"></span>
				</span>
				<input type="text" class="form-control" id="captcha-value" placeholder="왼쪽 문자를 입력해주세요" autocomplete="off" required />
			</div>
			
			<div class="space"></div>
			
			<div class="alert alert-danger hidden" id="create-user-form-alert-message" role="alert"></div>
			{% endif %}
			
			<button type="submit" class="btn btn-primary btn-lg btn-block" id="create-user-submit-btn" data-loading-text="잠시만 기다려주세요">
				확인해보기
			</button>
		</form>
		{% endwith %}
		
		<div class="short-width-group">
			<div class="alert alert-info hidden" id="check-data-existence-message" role="alert">
				기존 데이터를 가져오는 중입니다
			</div>
			
			<a href="#" class="btn btn-primary btn-lg btn-block hidden" id="continue-survey-btn">
				이어하기
			</a>
			
			<a href="#Q1" class="btn btn-primary btn-lg btn-block hidden" id="edit-survey-btn">
				수정하기
			</a>
			
			<button class="btn btn-primary btn-lg btn-block hidden" id="move-to-result-page-btn" data-loading-text="잠시만 기다려주세요">
				결과 보기
			</button>
		</div>
	</div>

	<div class="section">
		<h3>성별이 어떻게 되세요?</h3>
		<div>
			<label class="radio-inline">
				<input type="radio" name="sex" value="male" />
				남자
			</label>
			<label class="radio-inline">
				<input type="radio" name="sex" value="female" />
				여자
			</label>
		</div>
		
		<div class="space"></div>
		
		<h3>언제 태어나셨나요?</h3>
		<div class="short-width-group">
			<input type="number" class="form-control" id="year-of-birth" min="1910" max="2010" placeholder="출생년도" autocomplete="off" />
		</div>
		
		<div class="space"></div>
		
		<h3>지지정당이 있으세요?</h3>
		<div class="short-width-group">
			<select class="form-control" id="supporting-party">
				<option value="">클릭해서 선택하세요</option>
			</select>
		</div>
		
		<div class="space"></div>
		
		<div class="short-width-group">
			<a href="#" class="btn btn-warning btn-lg btn-block hidden" id="move-to-unanswered-question-btn">
				미응답한 질문 채우러가기
			</a>
			
			<button class="btn btn-primary btn-lg btn-block" id="submit-survey-btn" data-loading-text="잠시만 기다려주세요">
				결과 확인하기
			</button>
		</div>
	</div>
</div>

<div class="section hidden" id="section-virtual-dom">
	<div class="question">
		<div class="progress">
			<div class="progress-bar progress-bar-info progress-bar-striped" role="progressbar"></div>
		</div>
		<input type="hidden" class="question-id" value="" />
		<input type="hidden" class="question-order" value="" />
		<div class="question-contents-container">
			<img class="question-image" data-src="" />
			<div class="question-explanation"></div>
		</div>
		<div class="question-choices"></div>
		<input type="hidden" class="answer-id" value="" />
		<input type="hidden" class="original-choice-id" value="" />
	</div>
	<div class="alert alert-warning duration-alert-message hidden" role="alert">
		조금만 더 생각해주세요
	</div>
	<a href="#main" class="back-to-top">맨 위로 이동</a>
	<a href="#additional" class="go-to-bottom">맨 아래로 이동</a>
</div>
{% endblock %}
